{% extends "base.html" %}

{% block content %}

<div>
    <h1>Friends</h1>
    {% for friend in friends %}
    <h1>{{friend.username}}
        <a href="{% url 'friend:profile_view' friend.pk %}">View Profile</a>
        <a href="{% url 'friend:delete-friend' friend.pk %}">Remove Friend</a>
    </h1>
    {% endfor %}
</div>

<div>
    <h1>Friend Requests</h1>
    {% for request in rec_friend_requests %}

    <h1>From: {{request.sender}}
        <a href="{% url 'friend:accept-friend-request' request.pk %}">Accept Friend Request</a>
        <a href="{% url 'friend:decline-friend-request' request.pk %}">Decline Friend Request</a>
    </h1>
    {% endfor %}
</div>

<div>
    <h1>Requests Sent</h1>
    {% for sent in sent_friend_requests %}
    <h1>Sent To: {{sent.receiver}}
        <a href="{% url 'friend:cancel-friend-request' sent.receiver.pk %}">Cancel Friend Request.</a></h1>
    {% endfor %}
</div>

<div>
    <h1>Initiated Chats:</h1>
    {% for ini in initiated_direct_chats %}
    <h1>created by: {{ request.user }}</h1>
    <h1>chatting with: {{ ini.user2 }}</h1>
        <a href="{% url 'messaging:direct-chat' ini.user2.pk %}">Message {{ ini.user2 }}</a>
    {% endfor %}
</div>

<div>
    <h1>Received Chats:</h1>
    {% for rec in received_direct_chats %}
    <h1>created by: {{ rec.user1 }}</h1>
    <h1>chatting with: {{ request.user }}</h1>
        <a href="{% url 'messaging:direct-chat' rec.user1.pk %}">Message {{ rec.user1 }}</a>
    {% endfor %}
</div>

<div>
    <h1>Initiated Video Chats</h1>
    {% for inivid in initiated_video_chats %}
    <h1>created by: {{ request.user }}</h1>
    <h1>chatting with: {{ inivid.videouser2 }}</h1>
        <a href="{% url 'videochat:private-video-chat' inivid.videouser2.pk %}">Jump in videochat with {{ inivid.videouser2 }}</a>
    {% endfor %}
</div>

<div>
    <h1>Received Video Chats</h1>
    {% for recvid in received_video_chats %}
    <h1>created by: {{ recvid.videouser1 }}</h1>
    <h1>chatting with: {{ request.user }}</h1>
        <a href="{% url 'videochat:private-video-chat' recvid.videouser1.pk %}">Jump in videochat with {{ recvid.videouser1 }}</a>
    {% endfor %}
</div>

{% endblock content %}